Code date    |    Issues
------------------------------------------------------------------------------------
18/08/2017   | Noticed that cmor_check.py doesn't actually perform time gating on 
             | the input netCDF file-extracted cube (Javier, have a look at
             | interface_scripts/cmor_check.py and interface_scripts/preprocess.py)
             | Current code fails regridding with MemoryError if input time ccord
             | is much bigger than the regrid target time coord
             | (this is fixed by pt.time_slice()) that needs to be used anyway

Full error message:
Traceback (most recent call last):
  File "main.py", line 327, in <module>
    pp.preprocess(project_info, base_var, model, currDiag, cmor_reformat_type = 'py')
  File "./interface_scripts/preprocess.py", line 659, in preprocess
    rgc = rg(src_cube, tgt_grid_cube, regrid_scheme)
  File "./interface_scripts/regrid.py", line 189, in regrid
    result = src_cube.regrid(tgt_grid, horizontal_schemes[scheme])
  File "/group_workspaces/jasmin/ncas_cms/valeriu/anaconda2/lib/python2.7/site-packages/iris/cube.py", line 3840, in regrid
    return regridder(self)
  File "/group_workspaces/jasmin/ncas_cms/valeriu/anaconda2/lib/python2.7/site-packages/iris/analysis/_regrid.py", line 534, in __call__
    self._method, self._extrapolation_mode)
  File "/group_workspaces/jasmin/ncas_cms/valeriu/anaconda2/lib/python2.7/site-packages/iris/analysis/_regrid.py", line 248, in _regrid
    x_dim)
  File "/group_workspaces/jasmin/ncas_cms/valeriu/anaconda2/lib/python2.7/site-packages/iris/analysis/_interpolation.py", line 96, in extend_circular_coord_and_data
    data = extend_circular_data(data, coord_dim)
  File "/group_workspaces/jasmin/ncas_cms/valeriu/anaconda2/lib/python2.7/site-packages/iris/analysis/_interpolation.py", line 107, in extend_circular_data
    axis=coord_dim)
MemoryError
------------------------------------------------------------------------------------
21/08/2017   | In diag_scripts/perfmetrics_grading.ncl line 218:
             |   if (rank.eq.3) then
             |       median = models_only(0:0, :, :)
             |       median(0, :, :) = dim_median_n(models_only, 0)
             |   end if
             | Diagnostic is not working for < 3 models!!
-------------------------------------------------------------------------------------
23/08/2017   | regridding now works with an target_grid: MxN cell but NCL diagnostics
             | spit fire with such a configuration:
  PREPROCESS:
    - {id: pp1, select_level: None, target_grid: 2x2, regrid_scheme: nearest,
mask_fillvalues: True, mask_landocean: None, multimodel_mean: True}

NCL ERROR MESSAGE: (0)  info:   ++++++++++++++++++++++++++++++++++++++++++
NCL ERROR MESSAGE: (0)  info:   perfmetrics_main.ncl (var: ta)
NCL ERROR MESSAGE: (0)  info:   ++++++++++++++++++++++++++++++++++++++++++
NCL ERROR MESSAGE: (0)  info:   Reading in file = /group_workspaces/jasmin/ncas_cms/valeriu/ESMValTool/orchestrator/parser_yaml_V/test_output/preproc/CMIP5/CMIP5_MPI-ESM-LR_Amon_historical_r1i1p1_T3M_ta_2000-2002.nc
NCL ERROR MESSAGE: (0)  info:   Reading in file = /group_workspaces/jasmin/ncas_cms/valeriu/ESMValTool/orchestrator/parser_yaml_V/test_output/preproc/CMIP5/CMIP5_MPI-ESM-MR_Amon_historical_r1i1p1_T3M_ta_2000-2002.nc
NCL ERROR MESSAGE: (0)  info:   Reading in file = /group_workspaces/jasmin/ncas_cms/valeriu/ESMValTool/orchestrator/parser_yaml_V/test_output/preproc/CMIP5/CMIP5_bcc-csm1-1_Amon_historical_r1i1p1_T3M_ta_2000-2002.nc
NCL ERROR MESSAGE: (0)  info:   fatal: in perfmetrics_main.ncl, models are on irregular grid, diag_script_info@grid = '1x1' must be used
NCL ERROR MESSAGE:
Traceback (most recent call last):
  File "main.py", line 413, in <module>
    launcher_arguments=None)
  File "./interface_scripts/preprocess.py", line 66, in run_executable
    exit_on_warning)
  File "./interface_scripts/launchers.py", line 174, in execute
    self.write_stdouterr(std_outerr, verbosity, exit_on_warning)
  File "./interface_scripts/launchers.py", line 95, in write_stdouterr
    raise nclExecuteError(self.lang + " ERROR (see full NCL output above)")
auxiliary.nclExecuteError: 'NCL ERROR (see full NCL output above)'

NCL ERROR MESSAGE: (0)  info:   ++++++++++++++++++++++++++++++++++++++++++
NCL ERROR MESSAGE: (0)  info:   MyDiag_test_ta.ncl (var: ta)
NCL ERROR MESSAGE: (0)  info:   ++++++++++++++++++++++++++++++++++++++++++
NCL ERROR MESSAGE: (0)  info:   Reading in file = /group_workspaces/jasmin/ncas_cms/valeriu/ESMValTool/orchestrator/parser_yaml_V/test_output/preproc/CMIP5/CMIP5_MPI-ESM-LR_Amon_historical_r1i1p1_T3M_ta_2000-2002.nc
NCL ERROR MESSAGE: (0)  info:   Reading in file = /group_workspaces/jasmin/ncas_cms/valeriu/ESMValTool/orchestrator/parser_yaml_V/test_output/preproc/CMIP5/CMIP5_bcc-csm1-1_Amon_historical_r1i1p1_T3M_ta_2000-2002.nc
NCL ERROR MESSAGE: (0)  info:   fatal: in MyDiag_test_ta.ncl, no lat dimension
NCL ERROR MESSAGE:
Traceback (most recent call last):
  File "main.py", line 413, in <module>
    launcher_arguments=None)
  File "./interface_scripts/preprocess.py", line 66, in run_executable
    exit_on_warning)
  File "./interface_scripts/launchers.py", line 174, in execute
    self.write_stdouterr(std_outerr, verbosity, exit_on_warning)
  File "./interface_scripts/launchers.py", line 95, in write_stdouterr
    raise nclExecuteError(self.lang + " ERROR (see full NCL output above)")
auxiliary.nclExecuteError: 'NCL ERROR (see full NCL output above)'

              | I also noticed that when using such a cell configuration the resulting regridded cube
              | contains a mask object suggestive of vertical interpolation (??)

FIXED by VP: in interface_scripts/regrid.py: 
l.119:
    # VP: this is needed to have standard CF naming
    # the diagnostics look for var_name in the netCDF files
    cube.coords()[0].var_name = 'lat'
    cube.coords()[1].var_name = 'lon'
----------------------------------------------------------------------------------------------------
