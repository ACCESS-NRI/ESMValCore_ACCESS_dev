---

models:
  - {model: GFDL-ESM2G,  project: CMIP5,  mip: Amon,  exp: historical,  ensemble: r1i1p1,  start_year: 2000,  end_year: 2002}
  - {model: MPI-ESM-LR,  project: CMIP5,  mip: Amon,  exp: historical,  ensemble: r1i1p1,  start_year: 2000,  end_year: 2002}

preprocessors:

  preprocessor1:
    extract_levels:
      levels: 85000
      scheme: nearest
    regrid:
      target_grid: reference_model
      scheme: linear
    multi_model_statistics:
      span: overlap
      statistics: [mean, median]

  preprocessor2:
    regrid:
      target_grid: reference_model
      scheme: linear
    multi_model_statistics:
      span: overlap
      statistics: [mean, median]

diagnostics:

  diagnostic1:
    description: Air temperature and precipitation Python tutorial diagnostic.
    variables:
      ta:
        preprocessor: preprocessor1
        field: T3M
        reference_model: MPI-ESM-LR
      pr:
        preprocessor: preprocessor2
        field: T2Ms
        # reference_model: ERA-Interim
        reference_model: MPI-ESM-LR
    scripts:
      script1a:
        script: examples/diagnostic_object_based.py
        quickplot:
          plot_type: pcolormesh
      script1b:
        script: examples/diagnostic_object_based.py
        ancestors: ['script1a']
        quickplot:
          plot_type: contour

  diagnostic2:
    description: Another Python tutorial diagnostic.
    variables:
      tas:
        preprocessor: preprocessor2
        field: T2Ms
        additional_models:
          - {model: bcc-csm1-1,  project: CMIP5,  mip: Amon,  exp: historical,  ensemble: r1i1p1,  start_year: 2000,  end_year: 2002}
        reference_model: MPI-ESM-LR
    scripts:
      script2:
        script: examples/diagnostic_object_based.py
        ancestors: ['*/script1a']
        quickplot:
          plot_type: contourf
