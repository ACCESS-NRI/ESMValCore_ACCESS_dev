# recipe_runoff_et.xml
---
documentation:
  description:
    Recipe for plotting runoff and ET diagnostics. The diagnostics calculates water
    balance components for different catchments and compares the results against
    observations

  authors:
    - hage_st
    - loew_al
    - stac_to

  references:
    - duemenil00mpimr
    - hagemann13jadvmodelearthsyst
    - weedon14wrr

  projects:
    - embrace
    - crescendo

datasets:
  - {dataset: MPI-ESM-LR,  project: CMIP5, exp: historical,  ensemble: r1i1p1,  start_year: 1970,  end_year: 2000}


preprocessors:
  prep_grid:
    regrid:
      target_grid: basins
      scheme:      area_weighted

diagnostics:
  catchment_analysis:
    description: EMBRACE runoff and land surface evaporation diagnostic
    variables:
      evspsbl:
        preprocessor: prep_grid
        mip: Amon
        field: T2Ms
        fx_files: [basins,]
      mrro:
        preprocessor: prep_grid
        mip: Lmon
        field: T2Ms
        fx_files: [basins,]
      pr:
        preprocessor: prep_grid
        mip: Amon
        field: T2Ms
        fx_files: [basins,]
    scripts:
      catchment_analysis:
        script: runoff_et/catchment_analysis.py

