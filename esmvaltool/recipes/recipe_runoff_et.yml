# recipe_runoff_et.xml
---
documentation:
  description:
    Recipe for plotting runoff and ET diagnostics. The diagnostics calculates water
    balance components for different catchments and compares the results against
    observations

  authors:
    - hage_st
    - loew_al
    - stac_to

  references:
    - duemenil00mpimr
    - hagemann13jadvmodelearthsyst
    - weedon14wrr

  projects:
    - embrace
    - crescendo

datasets:
  - {dataset: MPI-ESM-LR,  project: CMIP5, exp: historical,  ensemble: r1i1p1,  start_year: 1970,  end_year: 2000}


# preprocessors:
#   prep_grid:
#     regrid:
#       target_grid: basins
#       scheme:      area_weighted

diagnostics:
  catchment_analysis:
    description: EMBRACE runoff and land surface evaporation diagnostic
    variables:
      evspsbl:
        # preprocessor: prep_grid
        mip: Amon
        field: T2Ms
      mrro:
        # preprocessor: prep_grid
        mip: Lmon
        field: T2Ms
      pr:
        # preprocessor: prep_grid
        mip: Amon
        field: T2Ms
    scripts:
      catchment_analysis:
        script: runoff_et/catchment_analysis.py
        catchmentmask: /home/mpim/m214103/Remote/Mistral_Work/Misc_Data/runoff_et/catchmentmask_v01.nc

