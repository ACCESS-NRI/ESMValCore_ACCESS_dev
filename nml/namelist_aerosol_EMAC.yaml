###############################################################################
# namelist_aerosol_EMAC.xml
# 
# Description
# Master namelist for the aerosol diagnostics of the ESVMal tool. It includes
# vertical profiles of aerosol concentrations, aerosol size distributions,
# surface level aerosol concentations compared with station data, aerosol
# optical depth compared with station data and satellite observations.
# 
# Author
# Mattia Righi (DLR, Germany)
# 
# Contributors
# Christopher Kaiser (DLR, Germany)
# 
# Projects
# DLR VEU
# DLR ESMVal
# 
# References
# Lauer et al., Atmos. Chem. Phys., 5, 3251-3276, doi:10.5194/acp-5-3251-2005
# (2005)
# Aquila et al., Geosci. Model Dev., 4 , 325-355, doi:10.5194/gmd-4-325-2011
# (2011)
# Righi et al., Atmos. Chem. Phys., 13, 9939-9970, doi:10.5194/acp-13-9939-2013
# (2013)
# 
# This namelist is part of the ESMValTool
###############################################################################

GLOBAL:
  write_plots:       True
  write_netcdf:      True
#  wrk_dir:           ./work/    # this goes to config file
#  plot_dir:          ./plots/   # this goes to config file
#  preproc_dir:       ./preproc/ # this goes to config file
  verbosity:         1
  exit_on_warning:   False
  output_file_type:  ps
  max_data_filesize:   100 # this goes to config file
  max_data_blocksize:  500 # this goes to config file

MODELS:
  - {name: MADE-REF,    project: EMAC,  ensemble: 1,  start: 1999,  end: 2001, path: /modelpath/}
  - {name: MADEin-REF,  project: EMAC,  ensemble: 1,  start: 1999,  end: 2001, path: /modelpath/}
  - {name: MAD3E-REF,   project: EMAC,  ensemble: 1,  start: 1999,  end: 2001, path: /modelpath/}

PREPROCESS:
  select_level:    None
  target_grid:     None
  regrid_scheme:   None
  mask_fillvalues: None
  mask_landocean:  None
  multimodel_mean: False

DIAGNOSTICS:
  - diag:
      description: Aerosol size distribution
      variable: {name: conccnmode,  field: T3I}
      variable: {name: diamcnmode,  field: T3I}
      variable: {name: cl,          field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_LACE.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Aerosol size distribution
      variable: {name: conccnmode,  field: T2Is}
      variable: {name: diamcnmode,  field: T2Is}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_Putaud.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Aerosol size distribution
      variable: {name: conccnSTPmode,  field: T2Is}
      variable: {name: diamcnmode,     field: T2Is}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_Asmi11.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnSTPd3,  field: T3I}
      variable: {name: cl,           field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_UCN-Pacific.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnSTPd5,  field: T3I}
      variable: {name: cl,           field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_INCA.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnSTPd14,  field: T3I}
      variable: {name: cl,            field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_INCA.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnSTPd120,  field: T3I}
      variable: {name: cl,             field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_INCA.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnd5,  field: T3I}
      variable: {name: cl,        field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_ACCESS-2.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of number concentration
      variable: {name: conccnd10,  field: T3I}
      variable: {name: cl,         field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_ACCESS-2.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of BC concentration
      variable: {name: mmrbc,  field: T3I}
      variable: {name: cl,     field: T3I}
      settings: # this would need to be called multiple times for each cfg file
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_ACCESS.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_CONCERT.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_CR-AVE.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_DC3.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_HIPPO.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_SALTRACE1.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_SALTRACE2.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_TC4.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_Texas.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of aerosol mass concentration
      variable: {name: mmraer,  field: T3I}
      variable: {name: cl,      field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_Texas.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Vertical profile of BC-free aerosol concentration
      variable: {name: mmrbcfree,  field: T3I}
      variable: {name: cl,         field: T3I}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_profiles_CIRRUS.ncl
      script: aerosol_profiles.ncl

  - diag:
      description: Surface-level concentration of SO4
      variable: {name: sconcso4,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_CASTNET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EANET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EMEP.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Surface-level concentration of NO3
      variable: {name: sconcno3,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_CASTNET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EANET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EMEP.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Surface-level concentration of NH4
      variable: {name: sconcnh4,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_CASTNET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EANET.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EMEP.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Surface-level concentration of BC
      variable: {name: sconcno3,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Surface-level concentration of OA
      variable: {name: sconcoa,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl
      
  - diag:
      description: Surface-level concentration of PM10
      variable: {name: sconcpm10,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EMEP.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Surface-level concentration of PM2.5
      variable: {name: sconcpm2p5,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_EMEP.ncl
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_IMPROVE.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Aerosol optical depth at 550 nm
      variable: {name: od550aer,  field: T2Ms}
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_stations_AERONET.ncl
      script: aerosol_stations.ncl

  - diag:
      description: Aerosol optical depth at 550 nm vs. MODIS
      variable: {name: od550aer,  field: T2Ms}
      preprocess:
        target_grid:    ref
        regrid_scheme:  linear
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_satellite_MODIS.ncl
      model: {name: MODIS,  project: obs4mips,  level: L3,  ensemble: C5,  start: 2001,  end: 2012, path: /obspath/Tier1/}
      script: aerosol_satellite.ncl
      
  - diag:
      description: Aerosol optical depth at 550 nm vs. MISR
      variable: {name: od550aer,  field: T2Ms}
      preprocess:
        target_grid:    ref
        regrid_scheme:  linear
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_satellite_MODIS.ncl
      model: {name: MISR,  project: obs4mips,  level: L3,  ensemble: F12_0022,  start: 2001,  end: 2012, path: /obspath/Tier1/}
      script: aerosol_satellite.ncl

  - diag:
      description: Aerosol optical depth at 550 nm vs. ESACCI
      variable: {name: od550aer,  field: T2Ms}
      preprocess:
        target_grid:    ref
        regrid_scheme:  linear
      settings:
        file: ./nml/cfg_aerosol/EMAC/cfg_aerosol_satellite_ESACCI-AEROSOL.ncl
      model: {name: ESACCI-AEROSOL,  project: OBS,  type: sat,,  version: SU-v4.21,  start: 1997,  end: 2011, path: /obspath/Tier2/ESACCI-AEROSOL}
      script: aerosol_satellite.ncl
